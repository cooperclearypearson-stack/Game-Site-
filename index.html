<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Mini Game Hub</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: radial-gradient(circle at top, #5f72ff, #9b23ea);
      color: white;
      text-align: center;
    }
    h1 { margin: 20px 0; }

    .menu button {
      display: block;
      margin: 12px auto;
      padding: 16px 26px;
      font-size: 18px;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      width: 260px;
      background: linear-gradient(135deg, #00e5ff, #18ffff);
      color: #111;
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    }

    .menu button:hover { transform: scale(1.04); }

    canvas {
      background: linear-gradient(#ffffff, #dfe9f3);
      display: none;
      margin: 20px auto;
      border-radius: 18px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.35);
    }

    .back {
      display: none;
      margin: 10px auto;
      padding: 10px 20px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>üéÆ Mini Game Hub</h1>

<div class="menu" id="menu">
  <button onclick="startSnow()">üèÇ Snow Runner</button>
  <button onclick="startArchers()">üèπ Stick Archers</button>
  <button onclick="startBasketball()">üèÄ Street Basketball</button>
</div>

<button class="back" id="backBtn" onclick="backToMenu()">‚¨Ö Back to Menu</button>

<canvas id="snow" width="400" height="600"></canvas>
<canvas id="archers" width="400" height="600"></canvas>
<canvas id="basketball" width="400" height="600"></canvas>

<script>
/* ---------- MENU ---------- */
const menu = document.getElementById('menu');
const backBtn = document.getElementById('backBtn');
const canvases = document.querySelectorAll('canvas');

function hideAll() {
  canvases.forEach(c => c.style.display = 'none');
  menu.style.display = 'none';
  backBtn.style.display = 'block';
}

function backToMenu() {
  canvases.forEach(c => c.style.display = 'none');
  menu.style.display = 'block';
  backBtn.style.display = 'none';
}

/* ---------- SNOW RUNNER (polished) ---------- */
const snow = document.getElementById('snow');
const sctx = snow.getContext('2d');
let sPlayer, sObs, sSpeed, sScore, sOver;

function startSnow() {
  hideAll(); snow.style.display = 'block';
  sPlayer = { x: 200, y: 500, r: 18 };
  sObs = [];
  sSpeed = 3;
  sScore = 0;
  sOver = false;
}

document.addEventListener('keydown', e => {
  if (snow.style.display !== 'block') return;
  if (e.key === 'ArrowLeft') sPlayer.x = Math.max(20, sPlayer.x - 25);
  if (e.key === 'ArrowRight') sPlayer.x = Math.min(380, sPlayer.x + 25);
});

setInterval(() => {
  if (snow.style.display === 'block' && !sOver)
    sObs.push({ x: Math.random()*360+20, y:-20, r:18 });
}, 800);

function snowLoop() {
  if (snow.style.display !== 'block') return requestAnimationFrame(snowLoop);
  sctx.clearRect(0,0,400,600);

  // player
  sctx.fillStyle='#ff5252';
  sctx.beginPath(); sctx.arc(sPlayer.x,sPlayer.y,sPlayer.r,0,Math.PI*2); sctx.fill();

  // obstacles
  sctx.fillStyle='#2e7d32';
  sObs.forEach(o=>{
    o.y+=sSpeed;
    sctx.beginPath(); sctx.arc(o.x,o.y,o.r,0,Math.PI*2); sctx.fill();
    if(Math.hypot(o.x-sPlayer.x,o.y-sPlayer.y)<o.r+sPlayer.r) sOver=true;
  });
  sObs=sObs.filter(o=>o.y<620);

  sSpeed+=0.002; sScore++;
  sctx.fillStyle='#000'; sctx.font='16px Arial';
  sctx.fillText('Score: '+sScore,10,20);

  if(sOver){
    sctx.fillStyle='rgba(0,0,0,0.6)'; sctx.fillRect(0,0,400,600);
    sctx.fillStyle='#fff'; sctx.font='26px Arial';
    sctx.fillText('Game Over',130,280);
    sctx.font='16px Arial';
    sctx.fillText('Back to menu',145,320);
  }
  requestAnimationFrame(snowLoop);
}
snowLoop();

/* ---------- ARCHERS (aim + gravity) ---------- */
const arch = document.getElementById('archers');
const actx = arch.getContext('2d');
let arrow, shooting;

function startArchers() {
  hideAll(); arch.style.display = 'block';
  arrow = { x:60, y:330, vx:0, vy:0 };
  shooting = false;
}

arch.addEventListener('click', e => {
  if (arch.style.display !== 'block') return;
  const angle = -Math.PI/4;
  arrow.vx = 6 * Math.cos(angle);
  arrow.vy = 6 * Math.sin(angle);
  shooting = true;
});

function archersLoop() {
  if (arch.style.display !== 'block') return requestAnimationFrame(archersLoop);
  actx.clearRect(0,0,400,600);

  // players
  actx.fillStyle='black';
  actx.fillRect(40,300,12,70);
  actx.fillRect(340,300,12,70);

  if(shooting){
    arrow.x+=arrow.vx;
    arrow.y+=arrow.vy;
    arrow.vy+=0.2;
  }

  actx.strokeStyle='brown';
  actx.beginPath(); actx.moveTo(arrow.x,arrow.y); actx.lineTo(arrow.x-12,arrow.y+4); actx.stroke();

  requestAnimationFrame(archersLoop);
}
archersLoop();

/* ---------- BASKETBALL (smooth physics) ---------- */
const ball = document.getElementById('basketball');
const bctx = ball.getContext('2d');
let bx, by, vx, vy;

function startBasketball() {
  hideAll(); ball.style.display = 'block';
  bx=200; by=500; vx=0; vy=0;
}

ball.addEventListener('click',()=>{
  if(ball.style.display!=='block') return;
  vy=-9; vx=2;
});

function basketLoop() {
  if (ball.style.display !== 'block') return requestAnimationFrame(basketLoop);
  bctx.clearRect(0,0,400,600);

  // hoop
  bctx.strokeStyle='#000';
  bctx.strokeRect(150,90,100,10);

  bx+=vx; by+=vy; vy+=0.35;
  if(by>500){by=500;vy=0;}

  bctx.beginPath(); bctx.arc(bx,by,12,0,Math.PI*2); bctx.fill();

  requestAnimationFrame(basketLoop);
}
basketLoop();
</script>
</body>
</html>
